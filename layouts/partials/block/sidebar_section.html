{{- $taxonomy := .Taxonomy -}} {{- $context := .Context -}} {{- $limit := .Limit
-}} {{ $icon := (index site.Params.taxonomies.icons $taxonomy) | default "tags"
}}

<section
  class="flex flex-col w-full gap-y-3 pl-6 py-3 mt-6 text-slate-800 dark:text-slate-200"
>
  <div class="flex flex-row">
    <a class="flex flex-row" href="{{ (site.GetPage $taxonomy).RelPermalink }}">
      <i class="h-6 w-6 flex-none"> {{ partial "icon.html" $icon }} </i>
      <h2 class="pl-1 uppercase">
        {{ T (printf "taxonomies.%s" $taxonomy) | safeHTML }}
      </h2>
    </a>
  </div>

  <ul id="tags" class="flex flex-row flex-wrap" data-active-tag="{{ .ActiveTag | lower }}">
    {{- $activeTag := .ActiveTag -}}
    {{ range first $limit $context.ByCount }}
    {{ $pageTitleLower := .Page.Title | lower }}
    {{ $tagLower := $activeTag | lower }}

    <li class="mt-2 mr-2" data-name="{{ .Page.Title | lower }}">
      <a
        href="{{ .Page.RelPermalink }}"
        class="rounded-sm px-2 py-1 text-sm {{ cond (eq $pageTitleLower $tagLower) "text-[#4B70F5]  dark:text-[#BEF992] ring-1 ring-[#4B70F5] dark:ring-[#BEF992] backdrop-blur-sm bg-slate-50 dark:bg-gray-700" "text-slate-800 dark:text-slate-300 ring-1 ring-slate-900/5 dark:ring-slate-50/5 backdrop-blur-sm bg-slate-50 dark:bg-gray-700" }} "
      >
        {{ .Page.Title | lower }}
      </a>
    </li>
    {{ end }}
  </ul>
</section>

<section
  class="flex flex-col w-full gap-y-3 pl-6 py-3 mt-6 text-slate-800 dark:text-slate-200"
>
  <h2 class="pl-1 uppercase">Hey, I am Leon</h2>
  <p class="text-blacktext-slate-200 mb-2">Passionate about coding, data, and infrastructure — and I enjoy sharing what I learn along the way.
When I’m not deep in tech, you’ll find me spending time with my family or exploring new languages.</p>

  <!-- Image wrapper for positioning -->
  <div class="relative">
    <img src="/leoneifler-sidebar-light.png" alt="" class="dark:hidden block rounded-xl" />
    <img src="/leoneifler-sidebar-dark.png" alt="" class="hidden dark:block rounded-xl" />

    <!-- Button centered at bottom -->
    <a href="https://www.linkedin.com/in/leon-eifler-9aa9b328a/" target="_blank" class="absolute bottom-3 left-1/2 -translate-x-1/2 w-max">
      <button class="text-black dark:text-white bg-white dark:bg-transparent dark:border-1 dark:border-white font-bold flex items-center space-x-1 hover:opacity-90 cursor-pointer transition-all duration-400 ease-in-out rounded-md px-3 py-1 text-sm">
        <img src="/linkedin-dark.svg" alt="LinkedIn Icon" class="w-5 h-5 inline-block relative">
          <span class="hidden dark:block w-3 h-3 bg-white absolute left-4 -z-10"></span>
        </img>
        <span class="text-center">Let's connect!</span>
      </button>
    </a>
  </div>
</section>
